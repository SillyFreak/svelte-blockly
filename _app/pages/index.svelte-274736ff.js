var De=Object.defineProperty,Ke=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var Se=(l,t,e)=>t in l?De(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,ee=(l,t)=>{for(var e in t||(t={}))Fe.call(t,e)&&Se(l,e,t[e]);if(Ae)for(var e of Ae(t))Je.call(t,e)&&Se(l,e,t[e]);return l},Oe=(l,t)=>Ke(l,Pe(t));import{S as Le,i as Ie,s as Be,e as m,c as p,a as h,d,b as J,J as Re,f as j,K as je,L as ze,M as We,I as te,N as Ge,O as E,t as S,g as O,H as s,P as Ue,Q as we,k as w,j as qe,n as N,m as Qe,R as Ne,o as Ze,T as ue,h as le,U as Ye,x as xe,u as $e,V as et,v as tt,W as lt,X as nt,Y as ot,Z as at}from"../chunks/vendor-40b4b721.js";function st(l){let t,e,c,_,n;return{c(){t=m("div"),this.h()},l(a){t=p(a,"DIV",{class:!0}),h(t).forEach(d),this.h()},h(){J(t,"class","root svelte-18o0oby"),Re(()=>l[8].call(t))},m(a,f){j(a,t,f),e=je(t,l[8].bind(t)),_||(n=ze(c=l[4].call(null,t,{config:l[0],locale:l[1]})),_=!0)},p(a,[f]){c&&We(c.update)&&f&3&&c.update.call(null,{config:a[0],locale:a[1]})},i:te,o:te,d(a){a&&d(t),e(),_=!1,n()}}}function ct(l,t,e){let{config:c={}}=t,{locale:_}=t,{workspace:n=void 0}=t,{transform:a=void 0}=t;const f=Ge();let i,r;function g(k,I){function B(A,{config:X,locale:{msg:K,rtl:v}}){if(E.setLocale(K),e(5,n=E.inject(k,Oe(ee({},X),{rtl:v}))),A!==null)try{e(7,E.Events.recordUndo=!1,E),E.Xml.clearWorkspaceAndLoadFromXml(A,n),e(7,E.Events.recordUndo=!0,E)}catch(Y){console.warn(Y)}n.addChangeListener(()=>{f("change")});const V=n.translate.bind(n);if(e(5,n.translate=(Y,P)=>{V(Y,P);const{scrollX:M,scrollY:z,scale:q}=n;e(6,a={scrollX:M,scrollY:z,scale:q})},n),a!==void 0)L();else{const{scrollX:Y,scrollY:P,scale:M}=n;e(6,a={scrollX:Y,scrollY:P,scale:M})}}return B(null,I),{update(A){const X=E.Xml.workspaceToDom(n);n.dispose(),B(X,A)},destroy(){n.dispose(),e(5,n=void 0)}}}function L(){if(n===void 0)return;const{scrollX:k,scrollY:I,scale:B}=a;(k!==n.scrollX||I!==n.scrollY||B!==n.scale)&&(n.setScale(B),n.scroll(k,I))}function C(){i=this.offsetWidth,r=this.offsetHeight,e(2,i),e(3,r)}return l.$$set=k=>{"config"in k&&e(0,c=k.config),"locale"in k&&e(1,_=k.locale),"workspace"in k&&e(5,n=k.workspace),"transform"in k&&e(6,a=k.transform)},l.$$.update=()=>{l.$$.dirty&64&&L(),l.$$.dirty&172&&n&&E.svgResize(n)},[c,_,i,r,g,n,a,E,C]}class it extends Le{constructor(t){super();Ie(this,t,ct,st,Be,{config:0,locale:1,workspace:5,transform:6})}}function Me(l,t,e){const c=l.slice();return c[4]=t[e],c}function Xe(l){let t,e=l[4]+"",c,_;return{c(){t=m("option"),c=S(e),this.h()},l(n){t=p(n,"OPTION",{});var a=h(t);c=O(a,e),a.forEach(d),this.h()},h(){t.__value=_=l[4],t.value=t.__value},m(n,a){j(n,t,a),s(t,c)},p:te,d(n){n&&d(t)}}}function rt(l){let t,e;return{c(){t=m("p"),e=S("(none)")},l(c){t=p(c,"P",{});var _=h(t);e=O(_,"(none)"),_.forEach(d)},m(c,_){j(c,t,_),s(t,e)},p:te,d(c){c&&d(t)}}}function dt(l){let t,e=JSON.stringify(l[2][1])+"",c,_,n,a=l[2][0]+"",f;return{c(){t=m("p"),c=S(e),_=w(),n=m("pre"),f=S(a),this.h()},l(i){t=p(i,"P",{});var r=h(t);c=O(r,e),r.forEach(d),_=N(i),n=p(i,"PRE",{class:!0});var g=h(n);f=O(g,a),g.forEach(d),this.h()},h(){J(n,"class","svelte-u6y8d5")},m(i,r){j(i,t,r),s(t,c),j(i,_,r),j(i,n,r),s(n,f)},p(i,r){r&4&&e!==(e=JSON.stringify(i[2][1])+"")&&le(c,e),r&4&&a!==(a=i[2][0]+"")&&le(f,a)},d(i){i&&d(t),i&&d(_),i&&d(n)}}}function _t(l){let t,e,c,_,n,a,f,i,r,g,L,C,k,I,B,A,X,K,v,V=JSON.stringify(l[0])+"",Y,P,M,z,q,Q,ne,oe,ae,D,Z,se,ce,W,R,ie,re,F,de,ke,G=Object.keys(l[5]),y=[];for(let o=0;o<G.length;o+=1)y[o]=Xe(Me(l,G,o));function me(o,b){return o[2]!==void 0?dt:rt}let x=me(l),U=x(l);function He(o){l[11](o)}function Ve(o){l[12](o)}let _e={config:l[6],locale:l[5][l[4]]};return l[1]!==void 0&&(_e.workspace=l[1]),l[0]!==void 0&&(_e.transform=l[0]),R=new it({props:_e}),Ue.push(()=>we(R,"workspace",He)),Ue.push(()=>we(R,"transform",Ve)),R.$on("change",l[9]),{c(){t=m("main"),e=m("div"),c=m("h1"),_=S("Config"),n=w(),a=m("div"),f=m("select");for(let o=0;o<y.length;o+=1)y[o].c();i=w(),r=m("button"),g=S("Save Editor"),L=w(),C=m("button"),k=S("Restore Editor"),B=w(),A=m("h2"),X=S("Current JS Code & Transform"),K=w(),v=m("p"),Y=S(V),P=w(),M=m("pre"),z=S(l[3]),q=w(),Q=m("h2"),ne=S("Saved Blockly XML & transform"),oe=w(),U.c(),ae=w(),D=m("div"),Z=m("h1"),se=S("Demo"),ce=w(),W=m("div"),qe(R.$$.fragment),this.h()},l(o){t=p(o,"MAIN",{class:!0});var b=h(t);e=p(b,"DIV",{class:!0});var u=h(e);c=p(u,"H1",{});var T=h(c);_=O(T,"Config"),T.forEach(d),n=N(u),a=p(u,"DIV",{});var H=h(a);f=p(H,"SELECT",{});var pe=h(f);for(let fe=0;fe<y.length;fe+=1)y[fe].l(pe);pe.forEach(d),i=N(H),r=p(H,"BUTTON",{});var he=h(r);g=O(he,"Save Editor"),he.forEach(d),L=N(H),C=p(H,"BUTTON",{});var be=h(C);k=O(be,"Restore Editor"),be.forEach(d),H.forEach(d),B=N(u),A=p(u,"H2",{});var ye=h(A);X=O(ye,"Current JS Code & Transform"),ye.forEach(d),K=N(u),v=p(u,"P",{});var ge=h(v);Y=O(ge,V),ge.forEach(d),P=N(u),M=p(u,"PRE",{class:!0});var ve=h(M);z=O(ve,l[3]),ve.forEach(d),q=N(u),Q=p(u,"H2",{});var Te=h(Q);ne=O(Te,"Saved Blockly XML & transform"),Te.forEach(d),oe=N(u),U.l(u),u.forEach(d),ae=N(b),D=p(b,"DIV",{class:!0});var $=h(D);Z=p($,"H1",{});var Ee=h(Z);se=O(Ee,"Demo"),Ee.forEach(d),ce=N($),W=p($,"DIV",{class:!0});var Ce=h(W);Qe(R.$$.fragment,Ce),Ce.forEach(d),$.forEach(d),b.forEach(d),this.h()},h(){l[4]===void 0&&Re(()=>l[10].call(f)),C.disabled=I=l[2]===void 0,J(M,"class","svelte-u6y8d5"),J(e,"class","svelte-u6y8d5"),J(W,"class","blockly-container svelte-u6y8d5"),J(D,"class","svelte-u6y8d5"),J(t,"class","svelte-u6y8d5")},m(o,b){j(o,t,b),s(t,e),s(e,c),s(c,_),s(e,n),s(e,a),s(a,f);for(let u=0;u<y.length;u+=1)y[u].m(f,null);Ne(f,l[4]),s(a,i),s(a,r),s(r,g),s(a,L),s(a,C),s(C,k),s(e,B),s(e,A),s(A,X),s(e,K),s(e,v),s(v,Y),s(e,P),s(e,M),s(M,z),s(e,q),s(e,Q),s(Q,ne),s(e,oe),U.m(e,null),s(t,ae),s(t,D),s(D,Z),s(Z,se),s(D,ce),s(D,W),Ze(R,W,null),F=!0,de||(ke=[ue(f,"change",l[10]),ue(r,"click",l[7]),ue(C,"click",l[8])],de=!0)},p(o,[b]){if(b&32){G=Object.keys(o[5]);let T;for(T=0;T<G.length;T+=1){const H=Me(o,G,T);y[T]?y[T].p(H,b):(y[T]=Xe(H),y[T].c(),y[T].m(f,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=G.length}b&48&&Ne(f,o[4]),(!F||b&4&&I!==(I=o[2]===void 0))&&(C.disabled=I),(!F||b&1)&&V!==(V=JSON.stringify(o[0])+"")&&le(Y,V),(!F||b&8)&&le(z,o[3]),x===(x=me(o))&&U?U.p(o,b):(U.d(1),U=x(o),U&&(U.c(),U.m(e,null)));const u={};b&16&&(u.locale=o[5][o[4]]),!ie&&b&2&&(ie=!0,u.workspace=o[1],Ye(()=>ie=!1)),!re&&b&1&&(re=!0,u.transform=o[0],Ye(()=>re=!1)),R.$set(u)},i(o){F||(xe(R.$$.fragment,o),F=!0)},o(o){$e(R.$$.fragment,o),F=!1},d(o){o&&d(t),et(y,o),U.d(),tt(R),de=!1,lt(ke)}}}function ft(l,t,e){const c={rtl:!1,msg:ee({CAT_LOGIC:"Logic",CAT_LOOPS:"Loops",CAT_MATH:"Math",CAT_LISTS:"Lists",CAT_VARIABLES:"Variables",CAT_FUNCTIONS:"Functions",CAT_TEXT:"Text"},nt)},_={rtl:!1,msg:ee({CAT_LOGIC:"Logik",CAT_LOOPS:"Schleifen",CAT_MATH:"Mathe",CAT_LISTS:"Listen",CAT_VARIABLES:"Variablen",CAT_FUNCTIONS:"Funktionen",CAT_TEXT:"Text"},ot)},n={en:c,de:_},f={toolbox:{kind:void 0,contents:[{kind:"category",name:"%{BKY_CAT_LOGIC}",colour:"%{BKY_LOGIC_HUE}",contents:[{kind:"block",type:"controls_if"},{kind:"block",blockxml:`
							<block type="controls_if">
								<mutation else="1" />
							</block>`},{kind:"block",blockxml:`
							<block type="controls_if">
								<mutation elseif="1" else="1" />
							</block>`},{kind:"block",blockxml:`
							<block type="controls_for">
								<field name="VAR">i</field>
								<value name="FROM">
									<block type="math_number">
										<field name="NUM">1</field>
									</block>
								</value>
								<value name="TO">
									<block type="math_number">
										<field name="NUM">10</field>
									</block>
								</value>
								<value name="BY">
									<block type="math_number">
										<field name="NUM">1</field>
									</block>
								</value>
							</block>`},{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"},{kind:"block",type:"logic_null"},{kind:"block",type:"logic_ternary"}]},{kind:"category",name:"%{BKY_CAT_LOOPS}",colour:"%{BKY_LOOPS_HUE}",contents:[{kind:"block",type:"controls_repeat_ext"},{kind:"block",type:"controls_whileUntil"},{kind:"block",blockxml:`
							<block type="controls_for">
								<field name="VAR">i</field>
								<value name="FROM">
									<block type="math_number">
										<field name="NUM">1</field>
									</block>
								</value>
								<value name="TO">
									<block type="math_number">
										<field name="NUM">10</field>
									</block>
								</value>
								<value name="BY">
									<block type="math_number">
										<field name="NUM">1</field>
									</block>
								</value>
							</block>`},{kind:"block",type:"controls_forEach"},{kind:"block",type:"controls_flow_statements"}]},{kind:"category",name:"%{BKY_CAT_MATH}",colour:"%{BKY_MATH_HUE}",contents:[{kind:"block",type:"math_number"},{kind:"block",type:"math_single"},{kind:"block",type:"math_trig"},{kind:"block",type:"math_constant"},{kind:"block",type:"math_number_property"},{kind:"block",type:"math_round"},{kind:"block",type:"math_on_list"},{kind:"block",type:"math_modulo"},{kind:"block",type:"math_constrain"},{kind:"block",type:"math_random_int"},{kind:"block",type:"math_random_float"},{kind:"block",type:"math_atan2"}]},{kind:"category",name:"%{BKY_CAT_LISTS}",colour:"%{BKY_LISTS_HUE}",contents:[{kind:"block",type:"lists_create_empty"},{kind:"block",type:"lists_create_with"},{kind:"block",type:"lists_repeat"},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_isEmpty"},{kind:"block",type:"lists_indexOf"},{kind:"block",type:"lists_getIndex"},{kind:"block",type:"lists_setIndex"}]},{kind:"sep"},{kind:"category",name:"%{BKY_CAT_VARIABLES}",custom:"VARIABLE",colour:"%{BKY_VARIABLES_HUE}"},{kind:"category",name:"%{BKY_CAT_FUNCTIONS}",custom:"PROCEDURE",colour:"%{BKY_PROCEDURES_HUE}"},{kind:"category",name:"%{BKY_CAT_TEXT}",colour:70,contents:[{kind:"block",type:"text"},{kind:"block",blockxml:'<block type="text_join" inline="true" />'}]}]},move:{scrollbars:!0,drag:!0,wheel:!1},zoom:{controls:!1,wheel:!0,maxScale:1.5,minScale:.4,scaleSpeed:1.02},grid:{spacing:20,length:3,colour:"#ccc",snap:!0},trashcan:!1};let i="en",r,g,L,C="";function k(){const v=E.Xml.domToPrettyText(E.Xml.workspaceToDom(g));e(2,L=[v,r])}function I(){E.Xml.clearWorkspaceAndLoadFromXml(E.Xml.textToDom(L[0]),g),e(0,r=L[1])}function B(){const v=E.JavaScript;try{e(3,C=v.workspaceToCode(g))}catch(V){}}function A(){i=at(this),e(4,i),e(5,n)}function X(v){g=v,e(1,g)}function K(v){r=v,e(0,r)}return[r,g,L,C,i,n,f,k,I,B,A,X,K]}class mt extends Le{constructor(t){super();Ie(this,t,ft,_t,Be,{})}}export{mt as default};
